<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja Tech - Login</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0b1220; color:#fff; margin:0; display:flex; justify-content:center; align-items:center; height:100vh; }
    .box { background:#1a2238; padding:30px; border-radius:10px; width:320px; }
    h2 { text-align:center; margin-bottom:20px; }
    input, select { width:100%; padding:10px; margin:8px 0; border-radius:6px; border:none; }
    button { width:100%; padding:10px; background:#6ee7f9; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
    button:hover { background:#4dd6e6; }
    .toggle { text-align:center; margin-top:12px; cursor:pointer; color:#6ee7f9; }
  </style>
</head>
<body>
  <div class="box">
    <h2 id="formTitle">Login</h2>
    
    <div id="loginForm">
      <input id="emailLogin" placeholder="Email">
      <input id="senhaLogin" type="password" placeholder="Senha">
      <button onclick="login()">Entrar</button>
      <div class="toggle" onclick="mostrarCadastro()">Não tem conta? Cadastre-se</div>
    </div>
    
    <div id="cadastroForm" style="display:none">
      <input id="nomeCadastro" placeholder="Nome">
      <input id="emailCadastro" placeholder="Email">
      <input id="senhaCadastro" type="password" placeholder="Senha">
      <select id="tipoUsuario">
        <option value="cliente">Cliente</option>
        <option value="admin">Administrador</option>
      </select>
      <button onclick="cadastrar()">Cadastrar</button>
      <div class="toggle" onclick="mostrarLogin()">Já tem conta? Entrar</div>
    </div>
  </div>

  <script>
    function mostrarCadastro(){
      document.getElementById("loginForm").style.display="none";
      document.getElementById("cadastroForm").style.display="block";
      document.getElementById("formTitle").innerText="Cadastro";
    }
    function mostrarLogin(){
      document.getElementById("loginForm").style.display="block";
      document.getElementById("cadastroForm").style.display="none";
      document.getElementById("formTitle").innerText="Login";
    }

    function cadastrar(){
      let nome = document.getElementById('nomeCadastro').value;
      let email = document.getElementById('emailCadastro').value;
      let senha = document.getElementById('senhaCadastro').value;
      let tipo = document.getElementById('tipoUsuario').value;

      let usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];
      if(usuarios.find(u => u.email === email)){
        alert("Este email já está cadastrado!");
        return;
      }
      usuarios.push({nome,email,senha,tipo});
      localStorage.setItem('usuarios', JSON.stringify(usuarios));
      alert("Cadastro realizado! Agora faça login.");
      mostrarLogin();
    }

    function login(){
      let email = document.getElementById('emailLogin').value;
      let senha = document.getElementById('senhaLogin').value;
      let usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];
      let user = usuarios.find(u => u.email===email && u.senha===senha);

      if(user){
        localStorage.setItem('usuarioLogado', JSON.stringify(user));
        window.location.href = "Index.html"; // redireciona
      } else {
        alert("Usuário ou senha inválidos");
      }
    }
  </script>
</body>
</html>
